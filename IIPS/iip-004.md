# IIP-004: Core Module Upgrade and rfhe Version Adaptation

| IIP | Title | Author | Status | Type | Created | Activation |
|-----|-------|--------|--------|------|---------|------------|
| 004 | Core Module Upgrade and rfhe Version Adaptation | InitVerse Core Development Team | Accepted | Core Upgrade | 2025-09-26 | Block Height 872000 |

---

## Summary

IIP-004 proposes a technical upgrade to InitVerse core modules in order to adapt to the upcoming **rfhe version upgrade**, enhancing system compatibility and overall stability. This proposal will take effect at block height **872000**.

---

## Motivation

With the continuous iteration of the rfhe version, improvements and optimizations are required across the execution, networking, and database layers. These changes ensure that the InitVerse network remains compatible with more complex execution logic and more efficient network protocols.

---

## Specification and Updates

The upgrade includes the following changes:

1. **EVM Module Enhancements**
   
   - Add support for specific keywords such as **SSTORE** and **SLOAD**, improving compatibility with the Ethereum Virtual Machine (EVM).
2. **P2P Module Adaptation**
   
   - Pre-adapt and support **ETH67** and **ETH68** synchronization protocols to improve cross-chain and multi-client compatibility.
3. **Database Module Optimization**
   
   - Introduce support for the **Pebble database type**, improving storage and query efficiency.
   - Add support for the **secp256r1 algorithm**, extending cryptographic options for enhanced security and flexibility.

---

## Backward Compatibility

This upgrade does not directly affect end users, but node operators and developers relying on execution and networking protocols must complete the update before block height **872000** to avoid network issues.

---

## Activation and Implementation

- **Activation Block Height**: 872000
- **Implementation**: Hard Fork
- **Recommendation**: Node operators are strongly advised to upgrade their software prior to activation to prevent potential network splits.

---

## Conclusion

IIP-004 serves as an essential upgrade to align InitVerseâ€™s core modules with the upcoming rfhe version, ensuring a stronger foundation for future feature iterations and ecosystem expansion.


